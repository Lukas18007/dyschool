{% extends 'core/base.html' %}

{% block title %}Home - Dyschool{% endblock %}

{% block content %}
{% if user.is_authenticated %}
<!-- Authenticated User Home -->
<div class="container">
    <div class="page-header">
        <h1>Bem-vindo ao Dyschool</h1>
        <p>Sua plataforma de conex√£o entre alunos e professores de m√∫sica</p>
    </div>

    <div class="welcome-section">
        <div class="user-info">
            {% if user.profile_picture %}
                <img src="{{ user.profile_picture.url }}" alt="Profile Picture" class="user-avatar">
            {% else %}
                <div class="user-avatar">
                    {{ user.first_name|first|upper }}{{ user.last_name|first|upper }}
                </div>
            {% endif %}
            
            <div>
                <h2 class="user-name">{{ user.get_full_name_or_username }}</h2>
                <span class="user-type">{{ user.get_user_type_display }}</span>
            </div>
        </div>

        {% if user.is_student %}
            <div class="dashboard-grid">
                <div class="dashboard-card">
                    <h3>Buscar Aulas</h3>
                    <p>Encontre professores que atendam √†s suas necessidades</p>
                    <a href="{% url 'lesson_search' %}" class="btn btn-primary">Buscar Professores</a>
                </div>
                
                <div class="dashboard-card">
                    <h3>Minhas Solicita√ß√µes</h3>
                    <p>Acompanhe suas solicita√ß√µes de aula</p>
                    <a href="{% url 'student_dashboard' %}" class="btn btn-secondary">Ver Dashboard</a>
                </div>
            </div>
        {% elif user.is_teacher %}
            <div class="dashboard-grid">
                <div class="dashboard-card">
                    <h3>Meu Perfil</h3>
                    <p>Configure suas especialidades e valores</p>
                    <a href="{% url 'teacher_profile' %}" class="btn btn-primary">Editar Perfil</a>
                </div>
                
                <div class="dashboard-card">
                    <h3>Solicita√ß√µes de Aula</h3>
                    <p>Veja as solicita√ß√µes de alunos</p>
                    <a href="{% url 'teacher_dashboard' %}" class="btn btn-secondary">Ver Dashboard</a>
                </div>
            </div>
        {% endif %}

        <div style="margin-top: 40px; text-align: center;">
            <h3 style="color: var(--text-dark); margin-bottom: 20px;">Sobre o Dyschool</h3>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px;">
                <div style="background: var(--white); padding: 20px; border-radius: var(--border-radius); box-shadow: var(--shadow);">
                    <h4 style="color: var(--primary-purple); margin-bottom: 10px;">üéµ Aulas de M√∫sica</h4>
                    <p style="color: var(--text-light); font-size: 0.9rem;">Conectamos alunos com professores especializados em m√∫sica</p>
                </div>
                <div style="background: var(--white); padding: 20px; border-radius: var(--border-radius); box-shadow: var(--shadow);">
                    <h4 style="color: var(--primary-purple); margin-bottom: 10px;">üë®‚Äçüè´ Professores Qualificados</h4>
                    <p style="color: var(--text-light); font-size: 0.9rem;">Professores experientes e certificados</p>
                </div>
                <div style="background: var(--white); padding: 20px; border-radius: var(--border-radius); box-shadow: var(--shadow);">
                    <h4 style="color: var(--primary-purple); margin-bottom: 10px;">üìÖ Hor√°rios Flex√≠veis</h4>
                    <p style="color: var(--text-light); font-size: 0.9rem;">Agende aulas no hor√°rio que melhor te conv√©m</p>
                </div>
            </div>
        </div>
    </div>
</div>
{% else %}
<!-- Non-authenticated User Home -->
<div class="auth-container">
    <div class="auth-card">
        <div class="auth-header">
            <a href="{% url 'home' %}" class="auth-logo">Dyschool</a>
            <p class="auth-subtitle">Conectando alunos e professores de m√∫sica</p>
        </div>

        <div style="text-align: center; margin-bottom: 32px;">
            <h2 style="color: var(--text-dark); margin-bottom: 16px;">Bem-vindo ao Dyschool</h2>
            <p style="color: var(--text-light); margin-bottom: 24px;">
                A plataforma que conecta alunos com professores de m√∫sica para aulas personalizadas
            </p>
            
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 32px;">
                <div style="background: var(--light-gray); padding: 20px; border-radius: var(--border-radius);">
                    <h4 style="color: var(--primary-purple); margin-bottom: 8px;">üéì Para Alunos</h4>
                    <p style="color: var(--text-light); font-size: 0.9rem;">Encontre professores especializados e agende suas aulas</p>
                </div>
                <div style="background: var(--light-gray); padding: 20px; border-radius: var(--border-radius);">
                    <h4 style="color: var(--primary-purple); margin-bottom: 8px;">üë®‚Äçüè´ Para Professores</h4>
                    <p style="color: var(--text-light); font-size: 0.9rem;">Cadastre-se e receba solicita√ß√µes de alunos</p>
                </div>
            </div>
        </div>

        <div style="text-align: center;">
            <a href="{% url 'sign_up' %}" class="btn btn-primary" style="width: 100%; margin-bottom: 16px;">
                Come√ßar Agora
            </a>
            <p style="color: var(--text-light); font-size: 0.9rem;">
                J√° tem uma conta? 
                <a href="{% url 'sign_in' %}" class="auth-link">Fa√ßa login</a>
            </p>
        </div>
    </div>
</div>
{% endif %}
{% endblock %} 